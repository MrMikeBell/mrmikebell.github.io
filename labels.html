<!DOCTYPE html>
<!-- saved from url=(0049)https://orb.edinburgh.gov.uk/microsoft-365/intune -->
<html class=" js cookies picture no-lowbandwidth svgfilters canvas video progressbar meter no-time inlinesvg videopreload cssgradients supports smil svgasimg no-hiddenscroll no-touchevents checked cssscrollbar siblinggeneral cssvhunit cssvwunit backgroundcliptext ellipsis cssfilters flexbox no-cssgridlegacy cssgrid no-videoautoplay" lang="en" style=""><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
                        
        
        <title>Microsoft Labels – The City of Edinburgh Council IntranetL</title>

                    <meta http-equiv="x-ua-compatible" content="ie=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1">
        
                    <link rel="alternate" type="application/rss+xml" href="https://orb.edinburgh.gov.uk/rss/news">
        
            <link rel="apple-touch-icon" sizes="180x180" href="https://orb.edinburgh.gov.uk/site/images/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://orb.edinburgh.gov.uk/site/images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://orb.edinburgh.gov.uk/site/images/favicons/favicon-16x16.png">
    <link rel="manifest" href="https://orb.edinburgh.gov.uk/site/images/favicons/site.webmanifest">
    <link rel="mask-icon" href="https://orb.edinburgh.gov.uk/site/images/favicons/safari-pinned-tab.svg" color="#6d3465">
    <link rel="shortcut icon" href="https://orb.edinburgh.gov.uk/site/images/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#6d3465">
    <meta name="msapplication-config" content="/site/images/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

            <link href="./Microsoft Intune – The City of Edinburgh Council Intranet_files/css" rel="stylesheet">
                <link rel="stylesheet" href="./Microsoft Intune – The City of Edinburgh Council Intranet_files/orbit.css">
        

                            <link rel="stylesheet" type="text/css" href="./Microsoft Intune – The City of Edinburgh Council Intranet_files/standard.css">

        
                    <meta name="revisit-after" content="2 days">
            <meta name="robots" content="index,follow">
            <meta name="author" content="The City of Edinburgh Council">
            <meta name="keywords" content="">
            <meta name="description" content="Intune">
            <meta property="dcterms:creator" content="Megan Lamb">
            <meta property="dcterms:rightsHolder" content="The City of Edinburgh Council">
            <meta property="dcterms:coverage" content="UK">
            <meta property="dcterms:identifier" content="https://orb.edinburgh.gov.uk/microsoft-365/intune">
            <meta property="dcterms:publisher" content="The City of Edinburgh Council">
            <meta property="dcterms:subject" content="">
            <meta property="dcterms:description" content="Intune">
            <meta property="dcterms:title" content="Microsoft Intune">
            <meta property="dcterms:format" content="text/html">
            <meta property="dcterms:language" content="en">
                            <meta property="dcterms:created" content="2021-02-03">
                                        <meta property="dcterms:modified" content="2021-02-03">
                                
                    <meta property="og:title" content="Microsoft Intune – The City of Edinburgh Council Intranet">
            <meta property="og:site_name" content="The City of Edinburgh Council Intranet">
            <meta property="og:type" content="website">
            <meta property="og:url" content="https://orb.edinburgh.gov.uk/microsoft-365/intune">
            <meta property="og:image" content="https://orb.edinburgh.gov.uk/microsoft-365/site/dist/images/logo.jpg">
            <meta property="og:image:alt" content="The City of Edinburgh Council Intranet">
        
                    <script type="text/javascript" id="www-widgetapi-script" src="./Microsoft Intune – The City of Edinburgh Council Intranet_files/www-widgetapi.js.download" async=""></script><script id="iframe-demo" src="./Microsoft Intune – The City of Edinburgh Council Intranet_files/iframe_api"></script><script type="text/javascript" async="" src="./Microsoft Intune – The City of Edinburgh Council Intranet_files/analytics.js.download"></script><script src="./Microsoft Intune – The City of Edinburgh Council Intranet_files/modernizr-custom.js.download"></script>
        
                <!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="./Microsoft Intune – The City of Edinburgh Council Intranet_files/js"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-11731499-6');
</script>
            <script src="./Microsoft Intune – The City of Edinburgh Council Intranet_files/swfobject.min.js.download"></script>
        </head>

    <body class="two-column document-article">
        
                                                <nav class="skip-links" aria-label="Skip link Navigation">
    <ul class="list list--skip-links">
        <li class="list__item">
            <a class="list__link" href="https://orb.edinburgh.gov.uk/microsoft-365/intune#content" rel="nofollow">
                Skip to content
            </a>
        </li>
        <li class="list__item">
            <a class="list__link" href="https://orb.edinburgh.gov.uk/microsoft-365/intune#js-menu-toggle" rel="nofollow">
                Skip to navigation
            </a>
        </li>
    </ul>
</nav>
                
                            
    
                            <header class="site-header" id="top">

        
                            <div class="container">

                                                                            <div class="identity">
        <a href="https://orb.edinburgh.gov.uk/" class="identity__link" title="The City of Edinburgh Council Intranet Home Page">
            <img src="./Microsoft Intune – The City of Edinburgh Council Intranet_files/logo.jpg" class="identity__logo" alt="Logo: The City of Edinburgh Council Intranet" aria-hidden="true">
            <span class="visually-hidden">The City of Edinburgh Council Intranet</span>
        </a>
    </div>
                        
                                                        <nav class="nav nav--primary-navigation" aria-label="Main Navigation">
        <div class="navigation-buttons"><ul class="list list--inline"><li class="list__item"><a class="button button--icon list__link js-search-toggle js-toggle" id="js-search-toggle" href="https://orb.edinburgh.gov.uk/microsoft-365/intune#js-search" data-a11y-toggle="js-search" aria-controls="js-search" aria-expanded="false"><span class="icon icon-ui-search-primary search-icon"></span><span class="icon toggle-icon toggle-icon--search"><span class="toggle-icon__line"></span></span><span class="button__text">Search</span></a><button class="visually-hidden search-hidden-focus" data-focus="search-site-header">Search our site</button></li><li class="list__item"><a class="button button--icon list__link js-menu-toggle js-toggle" id="js-menu-toggle" href="https://orb.edinburgh.gov.uk/microsoft-365/intune#js-menu" data-a11y-toggle="js-menu" aria-controls="js-menu" aria-expanded="false"><span class="icon toggle-icon"><span class="toggle-icon__line"></span></span><span class="button__text">Menu</span></a></li></ul></div>    </nav>
                                            
                </div>
            
                    <form class="site-search form form--search site-search--header" id="js-search" action="https://orb.edinburgh.gov.uk/site-search/results/" method="get" aria-hidden="true" aria-labelledby="js-search-toggle">

                    <div class="container">

                                    <div class="form__control">

                                                                                    <label class="form__label visually-hidden" for="search-site-header">
                                    Search
                                </label>
                            
                                                            <div class="form__append-group">

                                                                                                                        <input class="form__field" type="search" size="18" maxlength="40" name="q" placeholder="Search" id="search-site-header">
                                        
                                            <button class="button" type="submit">
        <span class="icon icon-ui-search"></span>
        <span class="icon-fallback">Search</span>
    </button>
                                    
                                </div>
                                                    
                    </div>
                
            </div>
            <button class="visually-hidden site-search__focus-button" data-focus="js-search-toggle">View menu</button>
        
    </form>

                            
            <div class="menu-navigation" id="js-menu" aria-hidden="true" aria-labelledby="js-menu-toggle">
            <div class="container">

                        <nav class="nav" aria-label="Menu">

                            
                                <h2 class="nav__heading">Menu</h2>
    
    <ul class="list list--3up"><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/hr-information/askhr?documentId=2547&amp;categoryId=200206">askHR</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/colleague-networks">Colleague networks</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/communications-news">Communications and news</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/council-structure">Council structure</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/emergencies">Emergencies and security</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/facilities">Facilities</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/finance-1">Finance, goods and services</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/homepage/86/our-future-council-our-future-city-council-business-plan">Future Council</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/health-safety">Health and safety</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/hr-information">HR</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/learning-development">Learn and develop</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/legal-risk-internal-audit">Legal and risk</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/hr-online-systems/myhr/1">myHR</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/customer-digital-services-ict">myICT</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/hr-online-systems/mypeople-guides">myPeople</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/benefits">myRewards</a></li><li class="list__item"><a class="list__link" href="https://newsbeat-edinburgh.tfemagazine.co.uk/summer-2019/latest-news">News</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/services-members">Services for Elected Members</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/sustainability-1/sustainability-2/1">Sustainability</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/travel-transport">Travel and transport</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/policies-procedures">Policies and procedures</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/recruitment-selection/talentlink-myjobscotland">Vacancies</a></li></ul>
                            
        </nav>
    
            </div>
        </div>
    
            
        
    </header>
                

                                    
                
                                        <nav class="breadcrumb" aria-label="Breadcrumb Navigation">
        <div class="container">

            <ol class="list list--breadcrumb">    <li class="list__item">
        <a class="list__link" href="https://orb.edinburgh.gov.uk/" rel="home">
            Home
        </a>
    </li>

                                                    
                                    <li class="list__item">
        <a class="list__link" href="https://orb.edinburgh.gov.uk/customer-digital-services-ict">
            myICT
        </a>
    </li>

                            
                                    <li class="list__item">
        <a class="list__link" href="https://orb.edinburgh.gov.uk/microsoft-365">
            Microsoft 365
        </a>
    </li>

                                                    
                                                    <li class="list__item"><span>Microsoft Intune</span></li>
                        </ol>
        </div>
    </nav>
                            
                            <main class="site-main">
                    <div class="container">

                                                                                
                                                            <div class="site-content" id="content" tabindex="-1">

                                                                                                                        <h1 class="page-heading">
    Microsoft 365 Labels
</h1>                                        
                                                                                    <div class="page-content">

                                                                                                                        
                                                                        
                
            <nav class="nav nav--pages-in" aria-labelledby="a11y-pages-in-heading">

                    <h2 class="nav__heading" id="a11y-pages-in-heading">In this section…</h2>
    
            <ol class="nav__list list list--2up" id="pages-in-list">
                            
                                                                            <li class="list__item is-active">
                                    <span class="list__link">
                                        <strong class="visually-hidden">You are here:</strong>
                                        About Microsoft Intune and supporttest3
                                    </span>
                                </li>
                            
                    
                                            
                                                                            <li class="list__item">
                                    <a class="list__link" href="https://orb.edinburgh.gov.uk/microsoft-365/intune/2?documentId=3030&amp;categoryId=201317">
                                        <span class="list__link-text">Add a new device to Intune</span>
                                    </a>
                                </li>
                            
                    
                                            
                                                                            <li class="list__item">
                                    <a class="list__link" href="https://orb.edinburgh.gov.uk/microsoft-365/intune/3?documentId=3030&amp;categoryId=201317">
                                        <span class="list__link-text">Support with Intune migration</span>
                                    </a>
                                </li>
                            
                    
                                            
                                                                            <li class="list__item">
                                    <a class="list__link" href="https://orb.edinburgh.gov.uk/microsoft-365/intune/4?documentId=3030&amp;categoryId=201317">
                                        <span class="list__link-text">How to request an app</span>
                                    </a>
                                </li>
                            
                    
                                    </ol>
    
        </nav>
    
    
                                                                                    
                                                            <h2 class="page-subheading">
    About Microsoft Intune and support
</h2>
            
                
                
                        <div class="editor">
    <p>Microsoft Intune is a cloud-based Mobile Device Management (MDM) system. It lets the Council control how our mobile phones and tablets are used, helps us to protect our information and is part of the Microsoft 365 platform. Microsoft 365 is helping us transform how we work on a day-to-day basis, and provides us with</p>

<ul>
	<li>greater flexibility and mobility</li>
	<li>improved information security</li>
	<li>lots of new capabilities.</li>
</ul>

<p>Teams and OneDrive are also part of Microsoft 365.</p>

<p>Intune has many benefits, such as</p>

<ul>
	<li>simple sign in and enrolment process</li>
	<li>secure access to Council email and data</li>
	<li>secure access to Microsoft apps, for example, Word, Excel, OneDrive, Office, To Do.</li>
	<li>use your own device (UYOD)</li>
	<li>remote data wiping for lost or stolen devices.</li>
</ul>

<p>Download the&nbsp;<a href="https://orb.edinburgh.gov.uk/intunefaqs">Intune frequently asked questions</a>.&nbsp;</p>

<p>If you have been migrated from the AirWatch platform and don’t know what to do next, read the&nbsp;<a href="https://orb.edinburgh.gov.uk/downloads/file/32255/mdm-enrolment-guide-for-apple-devices-on-intune">Intune enrolment guide</a>.</p>

<p><strong>We are working on a new process for requesting the addition of mobile apps</strong> but in the meantime you should request apps by mailing the CGI Helpdesk at <a href="mailto:edinburghitservicedesk@cgi.com?subject=App%20Request">edinburghitservicedesk@cgi.com</a></p>

<p>If you have a question that is not answered on these pages please contact the <a href="http://cecsupport-csit.kayako.com/conversation/new/75" class="link-external">Digital Systems Support team.</a></p>

</div>            
                
                        
                                                                            
            <nav class="pagination" aria-label="Pagination">

                            <ul class="pagination__list">

                                                                        <li class="pagination__item pagination__item--previous">

                                                                                                            <span class="pagination__link is-disabled">

                                            
                                                                                                    <span class="pagination__icon icon icon-ui-chevron-left"></span>
                                                
                                                                                                    <span class="pagination__content">
                                                        <strong class="pagination__label">Previous<span class="visually-hidden"> page</span></strong>
                                                        <span class="pagination__meta">
                                                            <span class="visually-hidden">: </span>You are on the first page
                                                        </span>
                                                    </span>
                                                
                                            
                                        </span>
                                                                    
                            </li>
                        
                                                    <li class="pagination__item pagination__item--next">

                                                                                                            <a class="pagination__link" href="https://orb.edinburgh.gov.uk/microsoft-365/intune/2?documentId=3030&amp;categoryId=201317">

                                            
                                                                                                    <span class="pagination__content">
                                                        <strong class="pagination__label">Next<span class="visually-hidden"> page</span></strong>
                                                                                                                    <span class="pagination__meta">
                                                                <span class="visually-hidden">: </span>Add a new device to Intune
                                                            </span>
                                                                                                            </span>
                                                
                                                                                                    <span class="pagination__icon icon icon-ui-chevron-right"></span>
                                                
                                            
                                        </a>
                                                                    
                            </li>
                                            
                </ul>

            
        </nav>
    
            
                                                                                                                    
                                            </div>
                                        
                                                                                    <aside class="aside aside--sidebar" aria-label="Aside Navigation">

                                                                                                    
                                                                    
                                                                                                                                                        
                                            </aside>
                                                                            
                                </div>
                            
                                                                                
                    </div>
                </main>
            
                                
    
    <footer class="site-footer">
                    <div class="container container--flex">

                                <nav class="site-footer__group" aria-label="Footer Navigation">
            
    <ul class="list list--4up"><li class="list__item"><a class="list__link" href="http://www.edinburgh.gov.uk/">edinburgh.gov.uk</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/help">Orb help</a></li><li class="list__item"><a class="list__link" href="https://orb.edinburgh.gov.uk/accessibility">Accessibility</a></li></ul>    </nav>
    
            </div>
        
                    <div class="container">
                    </div>
    
            <div class="site-footer__bottom">
            <div class="container">
                                        <p class="site-footer__text site-footer__rights">© The City of Edinburgh Council Intranet</p>

                        <p class="site-footer__text">
        Handcrafted by <a class="site-footer__link" href="http://www.spacecraft.co.uk/">Spacecraft</a>.
    </p>

    <p class="site-footer__text">
        Powered by <a class="site-footer__link" href="http://www.jadu.net/">Jadu</a>.
    </p>

                                                                
                        <a class="button button--square back-to-top" href="https://orb.edinburgh.gov.uk/microsoft-365/intune#top" rel="nofollow" data-scroll-to="#top" title="Back to Top">
        <span class="visually-hidden">Back to the top</span>
        <span class="icon icon-ui-chevron-up-black"></span>
    </a>
                
            </div>
        </div>
    
    </footer>
            
        
                    <link rel="stylesheet" href="./Microsoft Intune – The City of Edinburgh Council Intranet_files/icons.data.svg.css">
            <script src="./Microsoft Intune – The City of Edinburgh Council Intranet_files/jquery.min.js.download"></script>
            <script>window.jQuery || document.write('<script src="/site/dist/libs/jquery.min.js"><\/script>');</script>
            <script src="./Microsoft Intune – The City of Edinburgh Council Intranet_files/orbit.js.download"></script><style>.placeholdr{color:#AAA;}</style>
            <script src="./Microsoft Intune – The City of Edinburgh Council Intranet_files/almond.min.js.download"></script>
            <script src="./Microsoft Intune – The City of Edinburgh Council Intranet_files/util.min.js.download"></script>
                                    <script>
    // IE Polyfill
    if (typeof Object.assign !== 'function') {
        // Must be writable: true, enumerable: false, configurable: true
        Object.defineProperty(Object, "assign", {
            value: function assign(target, varArgs) { // .length of function is 2
                'use strict';
                if (target == null) { // TypeError if undefined or null
                    throw new TypeError('Cannot convert undefined or null to object');
                }

                var to = Object(target);

                for (var index = 1; index < arguments.length; index++) {
                    var nextSource = arguments[index];

                    if (nextSource != null) { // Skip over if undefined or null
                        for (var nextKey in nextSource) {
                            // Avoid bugs when hasOwnProperty is shadowed
                            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                                to[nextKey] = nextSource[nextKey];
                            }
                        }
                    }
                }
                return to;
            },
            writable: true,
            configurable: true
        });
    }

    (function() {
        function CludoAnalytics (params) {
            this.baseUrl = params.apiHostname + '/api/v3/';
            this.customerID = params.customerID;
            this.engineID = params.engineID;
            this.query = this.htmlDecode(params.query);
            this.queryID = params.queryID;
            this.resultsFound = params.resultsFound;
            this.referralUrl = params.referralUrl;

            this.sessionId = '';
            this.querySessionId = '';
            this.sessionExpiry = 30 * 60 * 1000;

            // get ref values form localStorage, then remove to prevent erroneous duplication
            this.refurl = this.getValue('refurl');
            this.refpt = this.getValue('refpt');
            this.removeValue('refurl');
            this.removeValue('refpt');

            // if null, user went directly to search results page, so use as ref
            if (this.refurl === null) {
                this.refurl = window.location.protocol + '//' + window.location.hostname + window.location.pathname;
            }
            if (this.refpt === null) {
                this.refpt =  document.title;
            }
        }

        CludoAnalytics.prototype.storeValue = function (key, value) {
            if (this.isLocalStorageSupported()) {
                localStorage.setItem(key, value);
                return true;
            }

            return false;
        };

        CludoAnalytics.prototype.getValue = function (key) {
            if (this.isLocalStorageSupported()) {
                return localStorage.getItem(key);
            }
        };

        CludoAnalytics.prototype.removeValue = function (key) {
            if (this.isLocalStorageSupported()) {
                return localStorage.removeItem(key);
            }
        };

        CludoAnalytics.prototype.isLocalStorageSupported = function () {
            try {
                localStorage.setItem('jadu', 'jadu');
                localStorage.removeItem('jadu');
                return true;
            } catch (error) {
                return false;
            }

        };

        CludoAnalytics.prototype.generateUuid = function () {
            var dateTime = new Date().getTime();
            return 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, function(char) {
                var r = (dateTime + Math.random() * 16) % 16 | 0;
                dateTime = Math.floor(dateTime / 16);
                return (char === 'x' ? r :(r & 0x3 | 0x8)).toString(16);
            });
        };

        CludoAnalytics.prototype.isSessionExpired = function (sessionLastActive) {
            var currentTime = new Date();
            var lastActiveTime = new Date(sessionLastActive);

            return ((currentTime - lastActiveTime) > this.sessionExpiry);
        };

        CludoAnalytics.prototype.getSessionUuid = function () {
            var sessionId = this.getValue('JaduCludoSessionId');
            var sessionLastActive = this.getValue('JaduCludoSessionLastActive');

            if (sessionId === null || this.isSessionExpired(sessionLastActive)) {
                sessionId = this.generateUuid();
                this.storeValue('JaduCludoSessionId', sessionId);
            }

            this.storeValue('JaduCludoSessionLastActive', new Date());

            return sessionId;
        };

        CludoAnalytics.prototype.getQuerySessionUuid = function () {
            var querySessionId = this.getValue('JaduCludoQuerySessionId');

            if (querySessionId === null) {
                querySessionId = this.generateUuid();
                this.storeValue('JaduCludoQuerySessionId', querySessionId);
            }

            return querySessionId;
        };

        CludoAnalytics.prototype.appendParams = function (baseUrl, params) {
            params = params || {};

            var queryString = '';
            Object.keys(params).map(function (key) {
                if (queryString !== '') {
                    queryString += '&';
                }
                queryString += key + '=' + encodeURIComponent(params[key])
            });

            if (queryString === '') {
                return baseUrl;
            }

            return baseUrl + '?' + queryString;
        };

        CludoAnalytics.prototype.postRequest = function (url, onSuccess, onFailure) {
            var request = new XMLHttpRequest();
            request.open('POST', url, true);
            request.setRequestHeader('Content-type', 'application/json;charset=UTF-8');
            request.onload = function () {
                if (request.status === 200) {
                    if (typeof onSuccess === 'function') {
                        onSuccess(JSON.parse(request.responseText));
                    }
                }
                if (typeof onFailure === 'function') {
                    onFailure();
                }
            };
            if (typeof onFailure === 'function') {
                request.onerror = onFailure;
            }

            request.send();
        };

        CludoAnalytics.prototype.buildBaseParams = function () {
            var params =  {
                sw: this.query,
                hn: window.location.hostname,
                rc: this.resultsFound,
                qid: this.queryID,
                sid: this.getSessionUuid(),
                qsid: this.getQuerySessionUuid()
            };

            if (this.refurl !== null && this.refpt !== null) {
                // set refurl / refpt to those set in localStorage
                params.refurl = this.refurl;
                params.refpt = this.refpt;
            } else if (this.referralUrl !== '') {
                // if localStorage not available, default to symfony supplied referral, if set
                params.refurl = this.referralUrl;
                params.refpt = this.referralUrl;
            }

            return params;
        };

        CludoAnalytics.prototype.htmlDecode = function (string) {
            var whiteListCharacters = {
                '&amp;': '&',
                '&gt;': '>',
                '&lt;': '<',
                '&quot;': '"',
                '&#039;': '\'',
                '&#39;': '\''
            };

            if (!string) {
                return '';
            }

            Object.keys(whiteListCharacters).map(function (escapedString) {
                string = String(string).replace(new RegExp(escapedString, 'g'), whiteListCharacters[escapedString]);
            });

            return string;
        };

        CludoAnalytics.prototype.getUrlParameter = function(parameterName) {
            var items = location.search.substr(1).split('&');
            for (var i = 0; i < items.length; i++) {
                var currentItem = items[i].split('=');
                if (currentItem[0] === parameterName) {
                    return decodeURIComponent(currentItem[1]);
                }
            }
            return null;
        };

        CludoAnalytics.prototype.queryLog = function (additionalParams) {
            if (this.getUrlParameter('startNum') !== null) {
                // we're on a paginated search result page, so don't post queryLog
                return;
            }
            var baseUrl = this.baseUrl + this.customerID + '/' + this.engineID + '/search/pushstat/querylog';
            var baseUrlParams = this.buildBaseParams();
            var params = typeof additionalParams === 'object' ? Object.assign(additionalParams, baseUrlParams) : baseUrlParams;

            var requestUrl = this.appendParams(baseUrl, params);

            this.postRequest(requestUrl);
        };

        CludoAnalytics.prototype.clickLog = function (additionalParams, onSuccessCallback, onErrorCallback) {
            var baseUrl = this.baseUrl + this.customerID + '/' + this.engineID + '/search/pushstat/clicklog';
            var baseUrlParams = this.buildBaseParams();
            var params = typeof additionalParams === 'object' ? Object.assign(additionalParams, baseUrlParams) : baseUrlParams;

            var requestUrl = this.appendParams(baseUrl, params);

            this.postRequest(requestUrl, onSuccessCallback, onErrorCallback);
        };

        CludoAnalytics.prototype.addSearchFormListener = function () {
            var searchForm = document.querySelectorAll('form.site-search');
            if (!searchForm || !searchForm[0]) {
                console.warn('Unable to find search form \'form.site-search\'');
                return;
            }

            searchForm[0].addEventListener('submit', function () {
                this.storeValue('refurl', window.location.protocol + '//' + window.location.hostname + window.location.pathname);
                this.storeValue('refpt', document.title);
                this.storeValue('JaduCludoQuerySessionId', this.generateUuid());
            }.bind(this));
        };

        CludoAnalytics.prototype.getCludoBannerProperties = function () {
            var banners = document.querySelectorAll('div.cludo-banner');

            if (!banners || !banners[0]) {
                return;
            }

            // only one banner is shown, so get the first element
            var bannerId = banners[0].getAttribute('data-banner-id');
            if (bannerId === null || bannerId === '') {
                return;
            }

            return {
                ban: 1,
                bnrs: bannerId
            };
        };

        CludoAnalytics.prototype.initCludoBannerClickLog = function () {
            var banners = document.querySelectorAll('div.cludo-banner');

            if (!banners || !banners[0]) {
                return;
            }

            // only one banner is shown, so get the first element
            var banner = banners[0];
            var bannerId = banner.getAttribute('data-banner-id');
            if (bannerId === null || bannerId === '') {
                return;
            }

            var bannerLinks = banner.querySelectorAll('a');
            this.initLinkClickLog(bannerLinks, {
                cloi: bannerId,
                ls: 'banner'
            });
        };

        CludoAnalytics.prototype.initLinkClickLog = function (links, additionalParams) {
            if (!links.length) {
                return;
            }

            for (var i = 0; i < links.length; i++) {
                var link = links[i];
                link.onclick = function (event) {
                    var e = event || window.event;
                    var target = e.currentTarget || e.srcElement;

                    // detect if link should be opened in a new tab
                    var openInNewTab = (
                        e.ctrlKey ||
                        e.shiftKey ||
                        e.metaKey ||
                        (e.button && e.button === 1)
                    );

                    if (target.getAttribute('target') === '_blank') {
                        openInNewTab = true;
                    }

                    if (openInNewTab) {
                        var newWindow = window.open('', '_blank');
                    }

                    // prevent default event to allow ajax request to complete before forwarding user
                    if (e.preventDefault()) {
                        e.preventDefault();
                    } else {
                        e.returnValue = false;
                    }

                    if (e.stopPropagation()) {
                        e.stopPropagation();
                    } else {
                        e.cancelBubble = true;
                    }

                    var linkUrl = target.getAttribute('href');
                    var linkTitle = typeof target.text !== 'undefined' ? target.text : '';

                    function goToResult() {
                        if (newWindow) {
                            newWindow.location = linkUrl;
                        } else {
                            window.location = linkUrl;
                        }
                    }

                    var baseParams = {
                        clurl: linkUrl,
                        cli: i,
                        title: linkTitle
                    };

                    var params = typeof additionalParams === 'object' ? Object.assign(additionalParams, baseParams) : baseParams;

                    this.clickLog(params, function () {
                        // onSuccess callback
                        goToResult();
                    }, function () {
                        // onError callback
                        goToResult();
                    });
                }.bind(this);
            }
        };

        function initAnalytics() {
            var apiHostname = 'https://api-eu1.cludo.com';
            var engineID = 10782;
            var customerID = 2361;
            var query = '';
            var queryID = '';
            var resultsFound = 0;
            var referralUrl = 'https://mrmikebell.github.io/';

            var cludoAnalytics = new CludoAnalytics({
                apiHostname: apiHostname,
                engineID: engineID,
                customerID: customerID,
                query: query,
                queryID: queryID,
                resultsFound: resultsFound,
                referralUrl: referralUrl
            });

            cludoAnalytics.addSearchFormListener();

            if (engineID === -1 || customerID === -1) {
                // without engineID or customerID cannot post to API, so return
                return;
            }

            if (queryID === '') {
                // if queryID is empty, we're not on the results page, so return
                return;
            }

            var queryLogParams = {};
            var bannerProperties = cludoAnalytics.getCludoBannerProperties();
            if (bannerProperties) {
                queryLogParams = Object.assign(bannerProperties, queryLogParams);
            }

            cludoAnalytics.queryLog(queryLogParams);

            cludoAnalytics.initCludoBannerClickLog();

            var searchResults = document.querySelectorAll('ul.search-results > li a');
            if (!searchResults.length) {
                return;
            }

            cludoAnalytics.initLinkClickLog(searchResults);
        }

        window.addEventListener('load', function () {
            initAnalytics();
        });
    }())
</script>

            
            

</body></html>